import{a4 as ce,j as e,B as h,C as M,b as d,X as S,W as fe,D as oe,i as Q,l as J,g as Z,a5 as se,a6 as D,c as ee,k as le,V as Se,a7 as Oe,v as de,U as Ce,a8 as De,a1 as k}from"./mui-vendor-tGclxw8b.js";import{b as v,a as ye,L as E,i as Le}from"./react-vendor-DYr15v6v.js";import{u as Ie,a as U,s as ze,f as _e,b as Ee,c as We,d as Te}from"./index-Cb91SdTK.js";import{F as ue}from"./FormattedCurrency-BQf40NSG.js";import{i as Ne,D as Re,f as $e,E as Be,L as re,a as X,C as Fe,A as Ue,b as V,c as Ve,d as ne,h as Ke,e as Me,g as ge,u as He,G as Ge,j as he,k as qe,X as ve,Y as be,l as Xe,R as Ye,m as Qe,T as Je,n as Ze}from"./generateCategoricalChart-3wwmbAAY.js";import"./redux-vendor-CLOwJCHO.js";import"./firebase-vendor-yCdHbQaA.js";import"./utils-vendor-CFocuF-S.js";import"./pdf-vendor-BVWGQTu2.js";var et=["type","layout","connectNulls","ref"],tt=["key"];function W(t){"@babel/helpers - typeof";return W=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(i){return typeof i}:function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i},W(t)}function me(t,i){if(t==null)return{};var r=rt(t,i),n,o;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(o=0;o<a.length;o++)n=a[o],!(i.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function rt(t,i){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(i.indexOf(n)>=0)continue;r[n]=t[n]}return r}function K(){return K=Object.assign?Object.assign.bind():function(t){for(var i=1;i<arguments.length;i++){var r=arguments[i];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},K.apply(this,arguments)}function xe(t,i){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);i&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),r.push.apply(r,n)}return r}function P(t){for(var i=1;i<arguments.length;i++){var r=arguments[i]!=null?arguments[i]:{};i%2?xe(Object(r),!0).forEach(function(n){w(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):xe(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function _(t){return ot(t)||at(t)||it(t)||nt()}function nt(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function it(t,i){if(t){if(typeof t=="string")return ie(t,i);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ie(t,i)}}function at(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function ot(t){if(Array.isArray(t))return ie(t)}function ie(t,i){(i==null||i>t.length)&&(i=t.length);for(var r=0,n=new Array(i);r<i;r++)n[r]=t[r];return n}function st(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}function pe(t,i){for(var r=0;r<i.length;r++){var n=i[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Ae(n.key),n)}}function lt(t,i,r){return i&&pe(t.prototype,i),r&&pe(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function ct(t,i,r){return i=Y(i),dt(t,je()?Reflect.construct(i,r||[],Y(t).constructor):i.apply(t,r))}function dt(t,i){if(i&&(W(i)==="object"||typeof i=="function"))return i;if(i!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ut(t)}function ut(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function je(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(je=function(){return!!t})()}function Y(t){return Y=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Y(t)}function ht(t,i){if(typeof i!="function"&&i!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(i&&i.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),i&&ae(t,i)}function ae(t,i){return ae=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,o){return n.__proto__=o,n},ae(t,i)}function w(t,i,r){return i=Ae(i),i in t?Object.defineProperty(t,i,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[i]=r,t}function Ae(t){var i=mt(t,"string");return W(i)=="symbol"?i:i+""}function mt(t,i){if(W(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,i);if(W(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var H=function(t){function i(){var r;st(this,i);for(var n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return r=ct(this,i,[].concat(o)),w(r,"state",{isAnimationFinished:!0,totalLength:0}),w(r,"generateSimpleStrokeDasharray",function(s,l){return"".concat(l,"px ").concat(s-l,"px")}),w(r,"getStrokeDasharray",function(s,l,m){var x=m.reduce(function(j,C){return j+C});if(!x)return r.generateSimpleStrokeDasharray(l,s);for(var f=Math.floor(s/x),y=s%x,p=l-s,c=[],u=0,g=0;u<m.length;g+=m[u],++u)if(g+m[u]>y){c=[].concat(_(m.slice(0,u)),[y-g]);break}var b=c.length%2===0?[0,p]:[p];return[].concat(_(i.repeat(m,f)),_(c),b).map(function(j){return"".concat(j,"px")}).join(", ")}),w(r,"id",He("recharts-line-")),w(r,"pathRef",function(s){r.mainCurve=s}),w(r,"handleAnimationEnd",function(){r.setState({isAnimationFinished:!0}),r.props.onAnimationEnd&&r.props.onAnimationEnd()}),w(r,"handleAnimationStart",function(){r.setState({isAnimationFinished:!1}),r.props.onAnimationStart&&r.props.onAnimationStart()}),r}return ht(i,t),lt(i,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();this.setState({totalLength:n})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();n!==this.state.totalLength&&this.setState({totalLength:n})}}},{key:"getTotalLength",value:function(){var n=this.mainCurve;try{return n&&n.getTotalLength&&n.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(n,o){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,s=a.points,l=a.xAxis,m=a.yAxis,x=a.layout,f=a.children,y=$e(f,Be);if(!y)return null;var p=function(g,b){return{x:g.x,y:g.y,value:g.value,errorVal:ge(g.payload,b)}},c={clipPath:n?"url(#clipPath-".concat(o,")"):null};return v.createElement(re,c,y.map(function(u){return v.cloneElement(u,{key:"bar-".concat(u.props.dataKey),data:s,xAxis:l,yAxis:m,layout:x,dataPointFormatter:p})}))}},{key:"renderDots",value:function(n,o,a){var s=this.props.isAnimationActive;if(s&&!this.state.isAnimationFinished)return null;var l=this.props,m=l.dot,x=l.points,f=l.dataKey,y=X(this.props,!1),p=X(m,!0),c=x.map(function(g,b){var j=P(P(P({key:"dot-".concat(b),r:3},y),p),{},{index:b,cx:g.x,cy:g.y,value:g.value,dataKey:f,payload:g.payload,points:x});return i.renderDotItem(m,j)}),u={clipPath:n?"url(#clipPath-".concat(o?"":"dots-").concat(a,")"):null};return v.createElement(re,K({className:"recharts-line-dots",key:"dots"},u),c)}},{key:"renderCurveStatically",value:function(n,o,a,s){var l=this.props,m=l.type,x=l.layout,f=l.connectNulls;l.ref;var y=me(l,et),p=P(P(P({},X(y,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:o?"url(#clipPath-".concat(a,")"):null,points:n},s),{},{type:m,layout:x,connectNulls:f});return v.createElement(Fe,K({},p,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(n,o){var a=this,s=this.props,l=s.points,m=s.strokeDasharray,x=s.isAnimationActive,f=s.animationBegin,y=s.animationDuration,p=s.animationEasing,c=s.animationId,u=s.animateNewValues,g=s.width,b=s.height,j=this.state,C=j.prevPoints,T=j.totalLength;return v.createElement(Ue,{begin:f,duration:y,isActive:x,easing:p,from:{t:0},to:{t:1},key:"line-".concat(c),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(I){var O=I.t;if(C){var N=C.length/l.length,L=l.map(function(A,te){var B=Math.floor(te*N);if(C[B]){var F=C[B],z=V(F.x,A.x),Pe=V(F.y,A.y);return P(P({},A),{},{x:z(O),y:Pe(O)})}if(u){var ke=V(g*2,A.x),we=V(b/2,A.y);return P(P({},A),{},{x:ke(O),y:we(O)})}return P(P({},A),{},{x:A.x,y:A.y})});return a.renderCurveStatically(L,n,o)}var G=V(0,T),R=G(O),$;if(m){var q="".concat(m).split(/[,\s]+/gim).map(function(A){return parseFloat(A)});$=a.getStrokeDasharray(R,T,q)}else $=a.generateSimpleStrokeDasharray(T,R);return a.renderCurveStatically(l,n,o,{strokeDasharray:$})})}},{key:"renderCurve",value:function(n,o){var a=this.props,s=a.points,l=a.isAnimationActive,m=this.state,x=m.prevPoints,f=m.totalLength;return l&&s&&s.length&&(!x&&f>0||!Ve(x,s))?this.renderCurveWithAnimation(n,o):this.renderCurveStatically(s,n,o)}},{key:"render",value:function(){var n,o=this.props,a=o.hide,s=o.dot,l=o.points,m=o.className,x=o.xAxis,f=o.yAxis,y=o.top,p=o.left,c=o.width,u=o.height,g=o.isAnimationActive,b=o.id;if(a||!l||!l.length)return null;var j=this.state.isAnimationFinished,C=l.length===1,T=ce("recharts-line",m),I=x&&x.allowDataOverflow,O=f&&f.allowDataOverflow,N=I||O,L=ne(b)?this.id:b,G=(n=X(s,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},R=G.r,$=R===void 0?3:R,q=G.strokeWidth,A=q===void 0?2:q,te=Ke(s)?s:{},B=te.clipDot,F=B===void 0?!0:B,z=$*2+A;return v.createElement(re,{className:T},I||O?v.createElement("defs",null,v.createElement("clipPath",{id:"clipPath-".concat(L)},v.createElement("rect",{x:I?p:p-c/2,y:O?y:y-u/2,width:I?c:c*2,height:O?u:u*2})),!F&&v.createElement("clipPath",{id:"clipPath-dots-".concat(L)},v.createElement("rect",{x:p-z/2,y:y-z/2,width:c+z,height:u+z}))):null,!C&&this.renderCurve(N,L),this.renderErrorBar(N,L),(C||s)&&this.renderDots(N,F,L),(!g||j)&&Me.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(n,o){return n.animationId!==o.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,prevPoints:o.curPoints}:n.points!==o.curPoints?{curPoints:n.points}:null}},{key:"repeat",value:function(n,o){for(var a=n.length%2!==0?[].concat(_(n),[0]):n,s=[],l=0;l<o;++l)s=[].concat(_(s),_(a));return s}},{key:"renderDotItem",value:function(n,o){var a;if(v.isValidElement(n))a=v.cloneElement(n,o);else if(Ne(n))a=n(o);else{var s=o.key,l=me(o,tt),m=ce("recharts-line-dot",typeof n!="boolean"?n.className:"");a=v.createElement(Re,K({key:s},l,{className:m}))}return a}}])}(ye.PureComponent);w(H,"displayName","Line");w(H,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!Ge.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});w(H,"getComposedData",function(t){var i=t.props,r=t.xAxis,n=t.yAxis,o=t.xAxisTicks,a=t.yAxisTicks,s=t.dataKey,l=t.bandSize,m=t.displayedData,x=t.offset,f=i.layout,y=m.map(function(p,c){var u=ge(p,s);return f==="horizontal"?{x:he({axis:r,ticks:o,bandSize:l,entry:p,index:c}),y:ne(u)?null:n.scale(u),value:u,payload:p}:{x:ne(u)?null:r.scale(u),y:he({axis:n,ticks:a,bandSize:l,entry:p,index:c}),value:u,payload:p}});return P({points:y,layout:f},x)});var xt=qe({chartName:"LineChart",GraphicalChild:H,axisComponents:[{axisType:"xAxis",AxisComp:ve},{axisType:"yAxis",AxisComp:be}],formatAxisMap:Xe});const pt=({categories:t,loading:i})=>{const r=t.slice(0,5),n=t.length-5;return i?e.jsx(h,{sx:{display:"flex",justifyContent:"center",p:3},children:e.jsx(M,{size:24})}):t.length===0?e.jsx(h,{sx:{p:2,textAlign:"center"},children:e.jsx(d,{variant:"body2",color:"text.secondary",children:"All categories are well stocked!"})}):e.jsxs(S,{sx:{p:2,height:"100%",border:"1px solid",borderColor:"warning.main"},children:[e.jsxs(h,{sx:{display:"flex",alignItems:"center",mb:2},children:[e.jsx(fe,{sx:{mr:1,color:"warning.main"}}),e.jsx(d,{variant:"h6",component:"h2",sx:{color:"warning.dark",fontWeight:"bold"},children:"Low Stock Categories"})]}),e.jsx(oe,{sx:{mb:2}}),e.jsx(Q,{dense:!0,sx:{mb:1},children:r.map(o=>e.jsx(J,{sx:{mb:1,borderRadius:1,bgcolor:"background.paper","&:hover":{bgcolor:"action.hover"},py:1},children:e.jsx(Z,{primary:e.jsx(d,{variant:"body2",noWrap:!0,title:o.categoryName,children:o.categoryName.length>30?`${o.categoryName.substring(0,30)}...`:o.categoryName}),secondary:e.jsxs(se,{direction:"row",spacing:1,alignItems:"center",sx:{mt:.5},children:[e.jsx(D,{size:"small",color:o.severity==="out-of-stock"||o.severity==="critical"?"error":"warning",label:`${o.currentQuantity} in stock`,sx:{height:20}}),e.jsx(D,{size:"small",variant:"outlined",color:"primary",label:`${o.productCount} products`,sx:{height:20}}),e.jsx(d,{variant:"caption",color:"text.secondary",children:o.severity==="out-of-stock"?"Out of Stock":o.severity==="critical"?"Critical":"Low Stock"})]})})},o.categoryId))}),n>0&&e.jsx(h,{sx:{textAlign:"center"},children:e.jsxs(ee,{variant:"outlined",color:"warning",size:"small",component:E,to:"/flipkart-amazon-tools/inventory/",sx:{fontSize:"0.75rem"},children:["View ",n," more low stock categories"]})}),t.length>0&&t.length<=5&&e.jsx(h,{sx:{textAlign:"center"},children:e.jsx(le,{component:E,to:"/flipkart-amazon-tools/inventory/",color:"primary",underline:"hover",sx:{fontSize:"0.875rem"},children:"Manage Category Inventory"})})]})},ft=({products:t,loading:i})=>{const r=t.filter(a=>!a.existsOnSellerPage),n=r.slice(0,5),o=r.length-5;return i?e.jsx(h,{sx:{display:"flex",justifyContent:"center",p:3},children:e.jsx(M,{size:24})}):r.length===0?e.jsx(h,{sx:{p:2,textAlign:"center"},children:e.jsx(d,{variant:"body2",color:"text.secondary",children:"No hidden products found."})}):e.jsxs(S,{sx:{p:2,height:"100%",border:"1px solid",borderColor:"info.main"},children:[e.jsxs(h,{sx:{display:"flex",alignItems:"center",mb:2},children:[e.jsx(Se,{sx:{mr:1,color:"info.main"}}),e.jsx(d,{variant:"h6",component:"h2",sx:{color:"info.dark",fontWeight:"bold"},children:"Hidden Products"}),e.jsx(D,{label:r.length,color:"primary",size:"small",sx:{ml:1}})]}),e.jsx(oe,{sx:{mb:2}}),e.jsx(Q,{dense:!0,sx:{mb:1},children:n.map(a=>e.jsx(J,{sx:{mb:1,borderRadius:1,bgcolor:"background.paper","&:hover":{bgcolor:"action.hover"},py:1},children:e.jsx(Z,{primary:e.jsx(d,{variant:"body2",noWrap:!0,title:a.name,children:a.name.length>30?`${a.name.substring(0,30)}...`:a.name}),secondary:e.jsxs(se,{direction:"row",spacing:1,alignItems:"center",sx:{mt:.5},children:[e.jsx(D,{size:"small",color:a.platform==="amazon"?"primary":"secondary",label:a.platform,sx:{height:20}}),e.jsxs(d,{variant:"caption",color:"text.secondary",children:["SKU: ",a.sku]})]})})},`${a.sku}-${a.platform}`))}),o>0&&e.jsx(h,{sx:{textAlign:"center"},children:e.jsxs(ee,{variant:"outlined",size:"small",component:E,to:"/flipkart-amazon-tools/hidden-products/",sx:{fontSize:"0.75rem"},children:["View ",o," more hidden products"]})}),r.length>0&&r.length<=5&&e.jsx(h,{sx:{textAlign:"center"},children:e.jsx(le,{component:E,to:"/flipkart-amazon-tools/hidden-products/",color:"primary",underline:"hover",sx:{fontSize:"0.875rem"},children:"Manage Hidden Products"})})]})},yt=({products:t,loading:i})=>{const r=t.filter(a=>a.competitionAnalysis&&Number(a.competitionAnalysis.competitorPrice)>0&&a.sellingPrice>Number(a.competitionAnalysis.competitorPrice)),n=r.slice(0,5),o=r.length-5;return i?e.jsx(h,{sx:{display:"flex",justifyContent:"center",p:3},children:e.jsx(M,{size:24})}):r.length===0?e.jsx(h,{sx:{p:2,textAlign:"center"},children:e.jsx(d,{variant:"body2",color:"text.secondary",children:"No high-priced products found."})}):e.jsxs(S,{sx:{p:2,height:"100%",backgroundColor:"#ffebee",border:"1px solid #f44336"},children:[e.jsxs(h,{sx:{display:"flex",alignItems:"center",mb:2},children:[e.jsx(Oe,{sx:{mr:1,color:"#d32f2f"}}),e.jsx(d,{variant:"h6",component:"h2",sx:{color:"#b71c1c",fontWeight:"bold"},children:"High-Priced Products"}),e.jsx(D,{label:r.length,color:"error",size:"small",sx:{ml:1,bgcolor:"#d32f2f",color:"white"}})]}),e.jsx(oe,{sx:{mb:2}}),e.jsx(Q,{dense:!0,sx:{mb:1},children:n.map(a=>{var s;return e.jsx(J,{sx:{mb:1,borderRadius:1,bgcolor:"background.paper","&:hover":{bgcolor:"action.hover"}},children:e.jsx(Z,{primary:e.jsx(d,{variant:"body2",noWrap:!0,title:a.name,children:a.name.length>30?`${a.name.substring(0,30)}...`:a.name}),secondary:e.jsxs(se,{spacing:.5,mt:.5,children:[e.jsxs(h,{sx:{display:"flex",justifyContent:"space-between"},children:[e.jsxs(d,{variant:"caption",color:"error",children:["Our price: ",e.jsx(ue,{value:a.sellingPrice})]}),e.jsxs(d,{variant:"caption",color:"success.main",children:["Competitor: ",e.jsx(ue,{value:Number(((s=a.competitionAnalysis)==null?void 0:s.competitorPrice)||0)})]})]}),e.jsxs(h,{sx:{display:"flex",alignItems:"center"},children:[e.jsx(D,{size:"small",color:a.platform==="amazon"?"primary":"secondary",label:a.platform,sx:{mr:1,height:20}}),e.jsxs(d,{variant:"caption",color:"text.secondary",children:["SKU: ",a.sku]})]})]})})},`${a.sku}-${a.platform}`)})}),o>0&&e.jsx(h,{sx:{textAlign:"center"},children:e.jsxs(ee,{variant:"outlined",color:"error",size:"small",component:E,to:"/flipkart-amazon-tools/hidden-products/",sx:{fontSize:"0.75rem"},children:["View ",o," more high-priced products"]})}),r.length>0&&r.length<=5&&e.jsx(h,{sx:{textAlign:"center"},children:e.jsx(le,{component:E,to:"/flipkart-amazon-tools/hidden-products/",color:"primary",underline:"hover",sx:{fontSize:"0.875rem"},children:"Manage Pricing"})})]})},gt=({products:t,loading:i})=>{const r=Le(),n=v.useMemo(()=>t.filter(a=>!a.categoryId||a.categoryId.trim()===""),[t]),o=()=>{r("/flipkart-amazon-tools/uncategorized-products/")};return i?e.jsx(S,{sx:{p:2,height:"100%",display:"flex",alignItems:"center",justifyContent:"center"},children:e.jsx(M,{size:40})}):n.length===0?e.jsxs(S,{sx:{p:2,height:"100%"},children:[e.jsxs(h,{sx:{display:"flex",alignItems:"center",mb:2},children:[e.jsx(de,{sx:{mr:1,color:"success.main"}}),e.jsx(d,{variant:"h6",sx:{fontWeight:"bold",color:"success.dark"},children:"All Products Categorized"})]}),e.jsxs(h,{sx:{textAlign:"center",py:2},children:[e.jsx(de,{sx:{fontSize:48,color:"success.main",mb:1}}),e.jsx(d,{variant:"body1",color:"text.secondary",children:"Great! All products have categories assigned."})]})]}):e.jsxs(S,{sx:{p:2,height:"100%"},children:[e.jsxs(h,{sx:{display:"flex",alignItems:"center",mb:2},children:[e.jsx(fe,{sx:{mr:1,color:"warning.main"}}),e.jsx(d,{variant:"h6",sx:{fontWeight:"bold",color:"warning.dark"},children:"Uncategorized Products"}),e.jsx(D,{label:n.length,color:"warning",size:"small",sx:{ml:"auto"}})]}),e.jsxs(Ce,{severity:"warning",sx:{mb:2},children:[e.jsx(De,{children:"Action Required"}),n.length," product(s) need category assignment."]}),"            ",e.jsx(Q,{sx:{maxHeight:200,overflow:"auto"},children:n.slice(0,5).map(a=>e.jsx(J,{sx:{py:.5},children:e.jsx(Z,{primary:e.jsx(d,{variant:"body2",sx:{fontWeight:"medium"},children:a.name}),secondary:e.jsxs(h,{sx:{display:"flex",alignItems:"center",gap:1},children:[e.jsxs(d,{variant:"caption",color:"text.secondary",children:["SKU: ",a.sku]}),e.jsx(D,{label:a.platform.toUpperCase(),size:"small",color:a.platform==="amazon"?"default":"primary",sx:{height:16,fontSize:"0.6rem"}})]})})},a.sku))}),n.length>5&&e.jsxs(d,{variant:"caption",color:"text.secondary",sx:{display:"block",mt:1,textAlign:"center"},children:["... and ",n.length-5," more"]}),e.jsx(ee,{variant:"outlined",color:"warning",fullWidth:!0,sx:{mt:2},onClick:o,children:"View All Uncategorized Products"})]})},Ct=()=>{const t=Ie(),{items:i,loading:r}=U(c=>c.products),{items:n}=U(c=>c.orders),{dailyOrders:o}=U(c=>c.orderHistory),{lowStockCategories:a,loading:s}=U(c=>c.categoryInventory),l=U(ze);ye.useEffect(()=>{l&&(t(_e({})),t(Ee()),t(We()),t(Te()))},[t,l]);const m=n.length,x=n.filter(c=>{var u;return((u=c.product)==null?void 0:u.visibility)==="visible"}).length,f=i.length,y=n.reduce((c,u)=>{var j;const g=((j=u.product)==null?void 0:j.sellingPrice)||0,b=parseInt(u.quantity)||0;return c+g*b},0);if(r||s)return e.jsx(h,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh"},children:e.jsx(M,{})});const p=o.map(c=>({date:c.date,orders:c.orders.length}));return e.jsxs(h,{sx:{p:3},children:[e.jsxs(h,{sx:{display:"flex",alignItems:"center",mb:3},children:[e.jsx(d,{variant:"h4",component:"h1",sx:{fontWeight:"bold",color:"primary.dark"},children:"Dashboard"}),e.jsx(h,{sx:{flexGrow:1}}),e.jsx(d,{variant:"subtitle1",color:"text.secondary",children:new Date().toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})})]}),e.jsxs(k,{container:!0,spacing:3,sx:{mb:3},children:[e.jsx(k,{item:!0,xs:12,sm:6,md:3,children:e.jsxs(S,{sx:{p:2,borderRadius:2,borderLeft:"4px solid",borderColor:"primary.main",height:"100%"},children:[e.jsx(h,{sx:{display:"flex",alignItems:"center",mb:1},children:e.jsx(d,{variant:"subtitle1",color:"text.secondary",fontWeight:"medium",children:"Total Orders"})}),e.jsx(d,{variant:"h4",sx:{fontWeight:"bold",color:"primary.dark"},children:m}),e.jsx(d,{variant:"body2",color:"text.secondary",sx:{mt:1},children:"Across all platforms"})]})}),e.jsx(k,{item:!0,xs:12,sm:6,md:3,children:e.jsxs(S,{sx:{p:2,borderRadius:2,borderLeft:"4px solid",borderColor:"success.main",height:"100%"},children:[e.jsx(h,{sx:{display:"flex",alignItems:"center",mb:1},children:e.jsx(d,{variant:"subtitle1",color:"text.secondary",fontWeight:"medium",children:"Total Revenue"})}),e.jsxs(d,{variant:"h4",sx:{fontWeight:"bold",color:"success.dark"},children:["â‚¹",y.toLocaleString()]}),e.jsx(d,{variant:"body2",color:"text.secondary",sx:{mt:1},children:"Gross revenue from all sales"})]})}),e.jsx(k,{item:!0,xs:12,sm:6,md:3,children:e.jsxs(S,{sx:{p:2,borderRadius:2,borderLeft:"4px solid",borderColor:"info.main",height:"100%"},children:[e.jsx(h,{sx:{display:"flex",alignItems:"center",mb:1},children:e.jsx(d,{variant:"subtitle1",color:"text.secondary",fontWeight:"medium",children:"Recent Orders"})}),e.jsx(d,{variant:"h4",sx:{fontWeight:"bold",color:"info.dark"},children:x}),e.jsx(d,{variant:"body2",color:"text.secondary",sx:{mt:1},children:"Currently active orders"})]})}),e.jsx(k,{item:!0,xs:12,sm:6,md:3,children:e.jsxs(S,{sx:{p:2,borderRadius:2,borderLeft:"4px solid",borderColor:"secondary.main",height:"100%"},children:[e.jsx(h,{sx:{display:"flex",alignItems:"center",mb:1},children:e.jsx(d,{variant:"subtitle1",color:"text.secondary",fontWeight:"medium",children:"Average Order Value"})}),e.jsx(d,{variant:"h4",sx:{fontWeight:"bold",color:"secondary.dark"},children:f}),e.jsx(d,{variant:"body2",color:"text.secondary",sx:{mt:1},children:"Total products in catalog"})]})})]}),e.jsxs(k,{container:!0,spacing:3,children:[e.jsx(k,{item:!0,xs:12,md:8,children:e.jsxs(S,{sx:{p:2},children:[e.jsx(d,{variant:"h6",gutterBottom:!0,children:"Orders Overview"}),e.jsx(Ye,{width:"100%",height:300,children:e.jsxs(xt,{data:p,margin:{top:5,right:30,left:20,bottom:5},children:[e.jsx(Qe,{strokeDasharray:"3 3"}),e.jsx(ve,{dataKey:"date",tickFormatter:c=>new Date(c).toLocaleDateString("en-US",{month:"short",day:"numeric"}),interval:2}),e.jsx(be,{}),e.jsx(Je,{labelFormatter:c=>new Date(c).toLocaleDateString(),formatter:c=>[`${c} orders`,"Orders"]}),e.jsx(Ze,{}),e.jsx(H,{type:"monotone",dataKey:"orders",name:"Orders",stroke:"#8884d8",activeDot:{r:8}})]})})]})}),e.jsx(k,{item:!0,xs:12,md:4,children:e.jsx(pt,{categories:a,loading:s})})]}),e.jsxs(k,{container:!0,spacing:3,sx:{mt:1},children:[e.jsx(k,{item:!0,xs:12,md:4,children:e.jsx(ft,{products:i,loading:r})}),e.jsx(k,{item:!0,xs:12,md:4,children:e.jsx(yt,{products:i,loading:r})}),e.jsx(k,{item:!0,xs:12,md:4,children:e.jsx(gt,{products:i,loading:r})})]})]})};export{Ct as DashboardPage};
