import{j as e,a6 as w,B as j,J as ae,K as se,aG as ne,a1 as z,G as N,al as F,v as G,b as c,n as $,ay as _,a7 as Y,aH as oe,X as T,aI as K,aJ as q,aK as R,aL as u,aM as U,aN as V,I as X,aO as ie,aP as le,p as ce,u as de,ao as xe,aQ as me,C as Z,U as H,a9 as ue,a5 as ee,aR as he,c as M,aa as ge,z as ye,D as je,aS as pe,aT as fe,aU as be,az as ve}from"./mui-vendor-tGclxw8b.js";import{a as C}from"./react-vendor-DYr15v6v.js";import{x as L,u as Se,a as ze,b as Ce}from"./index-Cb91SdTK.js";import{D as we}from"./DataTable-DEz7wYai.js";import{V as te,a as re}from"./ActionButtons-D6QB-2Vj.js";import{F as W}from"./FormattedCurrency-BQf40NSG.js";import{E as Ie}from"./pdf-vendor-BVWGQTu2.js";import{p as J}from"./pdfStorageService-CLDArnMX.js";import"./redux-vendor-CLOwJCHO.js";import"./firebase-vendor-yCdHbQaA.js";import"./utils-vendor-CFocuF-S.js";const ke=({summary:n,products:r,categories:i})=>{const l=t=>{var s,m,d,y,p,I;return e.jsxs(e.Fragment,{children:[((s=t.product)==null?void 0:s.platform)==="flipkart"&&((d=(m=t.product)==null?void 0:m.metadata)==null?void 0:d.flipkartSerialNumber)&&t.product.metadata.flipkartSerialNumber.trim()!==""&&e.jsx(te,{flipkartSerialNumber:t.product.metadata.flipkartSerialNumber}),((y=t.product)==null?void 0:y.platform)==="amazon"&&((I=(p=t.product)==null?void 0:p.metadata)==null?void 0:I.amazonSerialNumber)&&t.product.metadata.amazonSerialNumber.trim()!==""&&e.jsx(re,{amazonSerialNumber:t.product.metadata.amazonSerialNumber})]})},o=t=>{if(t.category)return t.category;if(r!=null&&r.length&&t.SKU){const s=r.find(m=>m.sku===t.SKU);if(s!=null&&s.categoryId&&(i!=null&&i.length)){const m=i.find(d=>d.id===s.categoryId);return(m==null?void 0:m.name)||"Uncategorized"}}return"Uncategorized"},a=[{id:"SKU",label:"SKU",filter:!0},{id:"name",label:"Name",filter:!0},{id:"category",label:"Category",filter:!0,format:(t,s)=>{const m=o(s);return m!=="Uncategorized"?e.jsx(w,{label:m,color:"secondary",variant:"outlined",size:"small"}):e.jsx(w,{label:"Uncategorized",color:"default",variant:"outlined",size:"small"})}},{id:"quantity",label:"Quantity",align:"right",format:t=>e.jsx("span",{children:t.toString()})},{id:"type",label:"Platform",format:t=>e.jsx(w,{label:t.toUpperCase(),color:t==="amazon"?"default":"primary"}),filter:!0},{id:"actions",label:"Actions",align:"center",format:(t,s)=>l(s)}];return e.jsx(we,{id:"summary-table",columns:a,data:n,defaultSortColumn:"sku",defaultSortDirection:"asc",rowsPerPageOptions:[10,20,40,80,100],defaultRowsPerPage:20})},A=n=>{var l;const r=((l=n.product)==null?void 0:l.sellingPrice)||0,i=parseInt(n.quantity)||0;return r*i},Re=n=>{const r=new Map,i=[];n.forEach(t=>{var y;const s=t.category||null,m=(y=t.product)==null?void 0:y.categoryId;if(!s||s.trim()===""){i.push(t);return}r.has(s)||r.set(s,{categoryName:s,categoryId:m,orders:[],totalQuantity:0,totalRevenue:0,totalItems:0,platforms:[]});const d=r.get(s);d.orders.push(t),d.totalQuantity+=parseInt(t.quantity)||0,d.totalRevenue+=A(t),d.totalItems+=1,t.type&&!d.platforms.includes(t.type)&&d.platforms.push(t.type)});const l={categoryName:"Uncategorized",orders:i,totalQuantity:i.reduce((t,s)=>t+(parseInt(s.quantity)||0),0),totalRevenue:i.reduce((t,s)=>t+A(s),0),totalItems:i.length,platforms:[...new Set(i.map(t=>t.type).filter(Boolean))]},o=Array.from(r.values()).sort((t,s)=>t.categoryName.localeCompare(s.categoryName)),a=o.reduce((t,s)=>t+s.totalRevenue,0)+l.totalRevenue;return{categorizedGroups:o,uncategorizedGroup:l,summary:{totalCategories:o.length+(l.totalItems>0?1:0),totalOrders:n.length,totalRevenue:a}}},Te=(n,r)=>{if(!r.trim())return n;const i=r.toLowerCase(),l=n.categorizedGroups.map(a=>({...a,orders:a.orders.filter(t=>{var s,m;return((s=t.name)==null?void 0:s.toLowerCase().includes(i))||((m=t.SKU)==null?void 0:m.toLowerCase().includes(i))||a.categoryName.toLowerCase().includes(i)})})).filter(a=>a.orders.length>0).map(a=>({...a,totalQuantity:a.orders.reduce((t,s)=>t+(parseInt(s.quantity)||0),0),totalRevenue:a.orders.reduce((t,s)=>t+A(s),0),totalItems:a.orders.length})),o={...n.uncategorizedGroup,orders:n.uncategorizedGroup.orders.filter(a=>{var t,s;return((t=a.name)==null?void 0:t.toLowerCase().includes(i))||((s=a.SKU)==null?void 0:s.toLowerCase().includes(i))})};return o.totalQuantity=o.orders.reduce((a,t)=>a+(parseInt(t.quantity)||0),0),o.totalRevenue=o.orders.reduce((a,t)=>a+A(t),0),o.totalItems=o.orders.length,{categorizedGroups:l,uncategorizedGroup:o,summary:{totalCategories:l.length+(o.totalItems>0?1:0),totalOrders:l.reduce((a,t)=>a+t.totalItems,0)+o.totalItems,totalRevenue:l.reduce((a,t)=>a+t.totalRevenue,0)+o.totalRevenue}}},O=n=>({itemCount:n.totalItems,totalQuantity:n.totalQuantity,totalRevenue:n.totalRevenue,averageQuantity:n.totalItems>0?Math.round(n.totalQuantity/n.totalItems*100)/100:0,averageRevenue:n.totalItems>0?Math.round(n.totalRevenue/n.totalItems*100)/100:0,platforms:n.platforms}),Ne=({groupedData:n})=>{const[r,i]=C.useState(""),[l,o]=C.useState({}),[a,t]=C.useState("category"),[s,m]=C.useState("asc"),d=Te(n,r),y=x=>{o(b=>({...b,[x]:!b[x]}))},p=x=>{m(a===x&&s==="asc"?"desc":"asc"),t(x)},I=[...d.categorizedGroups].sort((x,b)=>{const k=O(x),v=O(b);let h,f;switch(a){case"category":h=x.categoryName.toLowerCase(),f=b.categoryName.toLowerCase();break;case"itemCount":h=k.itemCount,f=v.itemCount;break;case"totalQuantity":h=k.totalQuantity,f=v.totalQuantity;break;case"totalRevenue":h=k.totalRevenue,f=v.totalRevenue;break;default:h=x.categoryName.toLowerCase(),f=b.categoryName.toLowerCase()}return typeof h=="string"&&typeof f=="string"?s==="asc"?h.localeCompare(f):f.localeCompare(h):s==="asc"?h-f:f-h}),g=x=>{var b,k,v,h,f,P;return e.jsxs(j,{sx:{display:"flex",gap:1,flexWrap:"wrap"},children:[((b=x.product)==null?void 0:b.platform)==="flipkart"&&((v=(k=x.product)==null?void 0:k.metadata)==null?void 0:v.flipkartSerialNumber)&&x.product.metadata.flipkartSerialNumber.trim()!==""&&e.jsx(te,{flipkartSerialNumber:x.product.metadata.flipkartSerialNumber}),((h=x.product)==null?void 0:h.platform)==="amazon"&&((P=(f=x.product)==null?void 0:f.metadata)==null?void 0:P.amazonSerialNumber)&&x.product.metadata.amazonSerialNumber.trim()!==""&&e.jsx(re,{amazonSerialNumber:x.product.metadata.amazonSerialNumber})]})},S=({group:x,isExpanded:b,onToggle:k})=>{const v=O(x);return e.jsxs(e.Fragment,{children:[e.jsxs(R,{onClick:k,role:"button",sx:{cursor:"pointer"},children:[e.jsx(u,{children:e.jsxs(j,{sx:{display:"flex",alignItems:"center",gap:1},children:[e.jsx(X,{size:"small",children:b?e.jsx(ie,{}):e.jsx(le,{})}),e.jsx(G,{sx:{fontSize:20}}),e.jsxs(c,{variant:"subtitle1",sx:{fontWeight:"bold"},children:[x.categoryName,x.categoryName==="Uncategorized"&&e.jsx("span",{style:{display:"none"},children:" Products"})]}),x.categoryName==="Uncategorized"&&e.jsx(c,{variant:"subtitle1",sx:{fontWeight:"bold",position:"absolute",left:"-9999px"},children:"Uncategorized Products"})]})}),e.jsx(u,{align:"center",children:e.jsx(w,{label:`${v.itemCount} Items`,size:"small",variant:"outlined"})}),e.jsx(u,{align:"center",children:e.jsx(w,{label:`Qty: ${v.totalQuantity}`,size:"small",variant:"outlined"})}),e.jsx(u,{align:"center",children:v.platforms&&Array.isArray(v.platforms)&&e.jsx(w,{label:v.platforms.join(", "),size:"small",variant:"outlined"})}),e.jsx(u,{align:"right",children:e.jsx(c,{variant:"subtitle1",sx:{fontWeight:"bold"},children:e.jsx(W,{value:v.totalRevenue})})}),e.jsx(u,{align:"center",children:e.jsx(c,{variant:"body2",color:"text.secondary",children:"Category Summary"})})]}),e.jsx(R,{children:e.jsx(u,{style:{paddingBottom:0,paddingTop:0},colSpan:6,children:e.jsx(ce,{in:b,timeout:"auto",unmountOnExit:!0,children:e.jsx(j,{sx:{margin:1},children:e.jsxs(K,{size:"small",children:[e.jsx(q,{children:e.jsxs(R,{children:[e.jsx(u,{children:e.jsx("strong",{children:"SKU"})}),e.jsx(u,{children:e.jsx("strong",{children:"Product Name"})}),e.jsx(u,{align:"center",children:e.jsx("strong",{children:"Quantity"})}),e.jsx(u,{align:"center",children:e.jsx("strong",{children:"Platform"})}),e.jsx(u,{align:"right",children:e.jsx("strong",{children:"Unit Price"})}),e.jsx(u,{align:"right",children:e.jsx("strong",{children:"Revenue"})}),e.jsx(u,{align:"center",children:e.jsx("strong",{children:"Actions"})})]})}),e.jsx(V,{children:x.orders.map((h,f)=>{var Q,B,D,E;const P=(((Q=h.product)==null?void 0:Q.sellingPrice)||0)*(parseInt(h.quantity)||0);return e.jsxs(R,{children:[e.jsx(u,{sx:{fontFamily:"monospace",fontSize:"0.875rem"},children:h.SKU||"N/A"}),e.jsx(u,{children:e.jsx(c,{variant:"body2",sx:{fontWeight:500},children:((B=h.product)==null?void 0:B.name)||h.name||"Unknown Product"})}),e.jsx(u,{align:"center",children:e.jsx(w,{label:h.quantity,size:"small",color:"primary",variant:"outlined"})}),e.jsx(u,{align:"center",children:e.jsx(w,{label:((D=h.type)==null?void 0:D.toUpperCase())||"Unknown",size:"small",variant:"outlined"})}),e.jsx(u,{align:"right","data-testid":"unit-price",children:e.jsx(W,{value:((E=h.product)==null?void 0:E.sellingPrice)||0})}),e.jsx(u,{align:"right","data-testid":"revenue",children:e.jsx(c,{sx:{fontWeight:500},children:e.jsx(W,{value:P})})}),e.jsx(u,{align:"center",children:g(h)})]},`${h.SKU}-${f}`)})})]})})})})})]})};return e.jsxs(j,{children:[e.jsx(ae,{fullWidth:!0,variant:"outlined",placeholder:"Search by product name, SKU, or category...",value:r,onChange:x=>i(x.target.value),sx:{mb:3},InputProps:{startAdornment:e.jsx(se,{position:"start",children:e.jsx(ne,{})})}}),e.jsxs(z,{container:!0,spacing:2,sx:{mb:3},children:[e.jsx(z,{item:!0,xs:12,sm:6,md:3,children:e.jsx(N,{sx:{borderLeft:"4px solid #1976d2"},children:e.jsxs(F,{sx:{textAlign:"center",py:2},children:[e.jsx(G,{sx:{color:"#1976d2",fontSize:32,mb:1}}),e.jsx(c,{variant:"h6",color:"primary",sx:{fontWeight:"bold"},children:d.summary.totalCategories}),e.jsx(c,{variant:"body2",color:"text.secondary",children:"Categories"})]})})}),e.jsx(z,{item:!0,xs:12,sm:6,md:3,children:e.jsx(N,{sx:{borderLeft:"4px solid #2e7d32"},children:e.jsxs(F,{sx:{textAlign:"center",py:2},children:[e.jsx($,{sx:{color:"#2e7d32",fontSize:32,mb:1}}),e.jsx(c,{variant:"h6",color:"success.dark",sx:{fontWeight:"bold"},children:d.summary.totalOrders}),e.jsx(c,{variant:"body2",color:"text.secondary",children:"Total Orders"})]})})}),e.jsx(z,{item:!0,xs:12,sm:6,md:3,children:e.jsx(N,{sx:{borderLeft:"4px solid #ed6c02"},children:e.jsxs(F,{sx:{textAlign:"center",py:2},children:[e.jsx(_,{sx:{color:"#ed6c02",fontSize:32,mb:1}}),e.jsx(c,{variant:"h6",color:"warning.dark",sx:{fontWeight:"bold"},children:e.jsx(W,{value:d.summary.totalRevenue})}),e.jsx(c,{variant:"body2",color:"text.secondary",children:"Total Revenue"})]})})}),e.jsx(z,{item:!0,xs:12,sm:6,md:3,children:e.jsx(N,{sx:{borderLeft:"4px solid #9c27b0"},children:e.jsxs(F,{sx:{textAlign:"center",py:2},children:[e.jsx(Y,{sx:{color:"#9c27b0",fontSize:32,mb:1}}),e.jsx(c,{variant:"h6",color:"secondary",sx:{fontWeight:"bold"},children:Math.round(d.summary.totalRevenue/Math.max(d.summary.totalOrders,1))}),e.jsx(c,{variant:"body2",color:"text.secondary",children:"Avg Order Value"})]})})})]}),e.jsx(oe,{component:T,sx:{boxShadow:2},children:e.jsxs(K,{children:[e.jsx(q,{children:e.jsxs(R,{children:[e.jsx(u,{children:e.jsx(U,{active:a==="category",direction:a==="category"?s:"asc",onClick:()=>p("category"),children:e.jsx("strong",{children:"Category / Product"})})}),e.jsx(u,{align:"center",children:e.jsx(U,{active:a==="itemCount",direction:a==="itemCount"?s:"asc",onClick:()=>p("itemCount"),children:e.jsx("strong",{children:"Items"})})}),e.jsx(u,{align:"center",children:e.jsx(U,{active:a==="totalQuantity",direction:a==="totalQuantity"?s:"asc",onClick:()=>p("totalQuantity"),children:e.jsx("strong",{children:"Quantity"})})}),e.jsx(u,{align:"center",children:e.jsx("strong",{children:"Platform"})}),e.jsx(u,{align:"right",children:e.jsx(U,{active:a==="totalRevenue",direction:a==="totalRevenue"?s:"asc",onClick:()=>p("totalRevenue"),children:e.jsx("strong",{children:"Revenue"})})}),e.jsx(u,{align:"center",children:e.jsx("strong",{children:"Actions"})})]})}),e.jsx(V,{children:d.categorizedGroups.length===0&&d.uncategorizedGroup.totalItems===0?e.jsx(R,{children:e.jsxs(u,{colSpan:6,sx:{textAlign:"center",py:4},children:[e.jsx(G,{sx:{fontSize:64,color:"text.secondary",mb:2}}),e.jsx(c,{variant:"h6",color:"text.secondary",gutterBottom:!0,children:"No orders found"}),e.jsx(c,{variant:"body2",color:"text.secondary",children:r?"Try adjusting your search terms":"No active orders available"})]})}):e.jsxs(e.Fragment,{children:[I.map(x=>e.jsx(S,{group:x,isExpanded:l[x.categoryName]??!1,onToggle:()=>y(x.categoryName)},x.categoryName)),d.uncategorizedGroup.totalItems>0&&e.jsx(S,{group:d.uncategorizedGroup,isExpanded:l.uncategorized??!1,onToggle:()=>y("uncategorized")},"uncategorized")]})})]})})]})},Fe=n=>{try{const r=new Ie,i=r.internal.pageSize.getWidth(),l=r.internal.pageSize.getHeight(),o=20;let a=o;r.setFontSize(20),r.setFont("helvetica","bold"),r.text("Active Orders by Category",o,a),a+=15,r.setFontSize(12),r.setFont("helvetica","normal");const t=L(new Date,"PPP");r.text(`Generated on: ${t}`,o,a),a+=20,r.setLineWidth(.5),r.line(o,a,i-o,a),a+=15,r.setFontSize(14),r.setFont("helvetica","bold"),n.categorizedGroups.forEach(d=>{a>l-40&&(r.addPage(),a=o),r.setFont("helvetica","bold"),r.text(`${d.categoryName}`,o,a),r.setFont("helvetica","normal"),r.text(`${d.orders.length} orders`,o+100,a),a+=12}),n.uncategorizedGroup.orders.length>0&&(a>l-40&&(r.addPage(),a=o),r.setFont("helvetica","bold"),r.text("Uncategorized",o,a),r.setFont("helvetica","normal"),r.text(`${n.uncategorizedGroup.orders.length} orders`,o+100,a),a+=12),a+=10,r.setLineWidth(.5),r.line(o,a,i-o,a),a+=15,r.setFontSize(16),r.setFont("helvetica","bold"),r.text(`Total: ${n.summary.totalOrders} orders across ${n.summary.totalCategories} categories`,o,a);const s=l-20;r.setFontSize(10),r.setFont("helvetica","normal"),r.text("Sacred Sutra Tools - Category Summary Report",o,s);const m=`category-summary-${L(new Date,"yyyy-MM-dd")}.pdf`;r.save(m)}catch(r){console.error("Native PDF export failed:",r);const i=n.categorizedGroups.map(d=>`${d.categoryName}: ${d.orders.length} orders`).join(`
`),l=n.uncategorizedGroup.orders.length>0?`
Uncategorized: ${n.uncategorizedGroup.orders.length} orders`:"",o=`

Total: ${n.summary.totalOrders} orders across ${n.summary.totalCategories} categories`,a=`Active Orders Summary
Generated on: ${L(new Date,"PPP")}

${i}${l}${o}`,t=new Blob([a],{type:"text/plain"}),s=URL.createObjectURL(t),m=document.createElement("a");m.href=s,m.download=`category-summary-${L(new Date,"yyyy-MM-dd")}.txt`,m.click(),URL.revokeObjectURL(s)}},Pe=n=>{if(n===0)return"0 Bytes";const r=1024,i=["Bytes","KB","MB","GB"],l=Math.floor(Math.log(n)/Math.log(r));return parseFloat((n/Math.pow(r,l)).toFixed(2))+" "+i[l]},Ue=n=>{const i=Math.floor((new Date().getTime()-n.getTime())/(1e3*60));if(i<1)return"Just now";if(i<60)return`${i}m ago`;const l=Math.floor(i/60);return l<24?`${l}h ago`:n.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})},Le=({onRefresh:n})=>{const r=de(),[i,l]=C.useState([]),[o,a]=C.useState(!0),[t,s]=C.useState(null),[m,d]=C.useState(""),y=async()=>{try{a(!0),s(null);const g=J.getTodaysDateString();d(g);const S=await J.listTodaysFiles();l(S)}catch(g){const S=g instanceof Error?g.message:"Failed to load today&apos;s files";s(S),console.error("Error loading today&apos;s files:",g)}finally{a(!1)}},p=g=>{window.open(g.downloadUrl,"_blank")},I=()=>{y(),n==null||n()};return C.useEffect(()=>{y()},[]),e.jsx(N,{elevation:2,sx:{mb:3,border:`2px solid ${r.palette.primary.main}`,borderRadius:2},children:e.jsxs(F,{children:[e.jsxs(j,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",mb:2},children:[e.jsxs(j,{sx:{display:"flex",alignItems:"center",gap:1},children:[e.jsx(xe,{color:"primary"}),e.jsx(c,{variant:"h6",component:"h2",children:"Today's Files"}),e.jsx(w,{label:m,size:"small",color:"primary",variant:"outlined"})]}),e.jsx(X,{onClick:I,disabled:o,size:"small",children:e.jsx(me,{})})]}),o&&e.jsx(j,{sx:{display:"flex",justifyContent:"center",py:3},children:e.jsx(Z,{size:40})}),t&&!o&&e.jsx(H,{severity:"error",sx:{mb:2},children:t}),!o&&!t&&i.length===0&&e.jsxs(H,{severity:"info",children:["No files available for download today (",m,"). Upload some PDFs to see them here!"]}),!o&&!t&&i.length>0&&e.jsxs(e.Fragment,{children:[e.jsxs(c,{variant:"body2",color:"text.secondary",sx:{mb:2},children:[i.length," file",i.length!==1?"s":""," available for download"]}),e.jsx(z,{container:!0,spacing:2,children:i.map(g=>e.jsx(z,{item:!0,xs:12,sm:6,md:4,children:e.jsxs(N,{variant:"outlined",sx:{height:"100%",display:"flex",flexDirection:"column",transition:"all 0.2s ease-in-out","&:hover":{transform:"translateY(-2px)",boxShadow:r.shadows[4]}},children:[e.jsxs(F,{sx:{flexGrow:1,pb:1},children:[e.jsxs(j,{sx:{display:"flex",alignItems:"flex-start",gap:1,mb:1},children:[e.jsx(ue,{color:"error",sx:{mt:.5,flexShrink:0}}),e.jsx(j,{sx:{minWidth:0,flexGrow:1},children:e.jsx(c,{variant:"subtitle2",sx:{wordBreak:"break-word",lineHeight:1.2,fontSize:"0.875rem"},children:g.name})})]}),e.jsxs(ee,{spacing:.5,children:[e.jsx(w,{label:Pe(g.size),size:"small",variant:"outlined",sx:{width:"fit-content"}}),e.jsx(c,{variant:"caption",color:"text.secondary",children:Ue(g.lastModified)})]})]}),e.jsx(he,{sx:{pt:0,justifyContent:"flex-end"},children:e.jsx(M,{startIcon:e.jsx(ge,{}),onClick:()=>p(g),variant:"contained",size:"small",fullWidth:!0,children:"Download"})})]})},g.path))})]})]})})},qe=()=>{const n=Se(),{items:r,loading:i}=ze(y=>y.orders),[l,o]=C.useState("individual");C.useEffect(()=>{n(Ce())},[n]);const a=C.useMemo(()=>Re(r),[r]),t=r.reduce((y,p)=>{var S;const I=((S=p.product)==null?void 0:S.sellingPrice)||0,g=parseInt(p.quantity)||0;return y+I*g},0),s=r.reduce((y,p)=>{var S;const I=((S=p.product)==null?void 0:S.customCostPrice)??0,g=parseInt(p.quantity)||0;return y+I*g},0),m=t>0?Math.round((t-s)/t*100):0,d=()=>{Fe(a)};return e.jsx(ye,{maxWidth:"xl",sx:{py:3},children:e.jsxs(T,{sx:{p:3,mb:4,borderRadius:2},children:[e.jsxs(j,{sx:{display:"flex",alignItems:"center",mb:3},children:[e.jsx($,{sx:{fontSize:32,mr:2,color:"primary.main"}}),e.jsx(c,{variant:"h4",component:"h1",sx:{fontWeight:"bold",color:"primary.dark"},children:"Today's Orders"}),e.jsx(w,{label:`${r.length} Orders`,color:"primary",size:"medium",sx:{ml:2}})]}),e.jsx(je,{sx:{mb:3}}),e.jsxs(j,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:3,flexWrap:"wrap",gap:2},children:[e.jsxs(pe,{variant:"outlined",sx:{borderRadius:2},children:[e.jsx(M,{variant:l==="individual"?"contained":"outlined",onClick:()=>o("individual"),startIcon:e.jsx(fe,{}),sx:{minWidth:140},children:"Individual Orders"}),e.jsx(M,{variant:l==="grouped"?"contained":"outlined",onClick:()=>o("grouped"),startIcon:e.jsx(G,{}),sx:{minWidth:140},children:"Grouped by Category"})]}),l==="grouped"&&e.jsx(ee,{direction:"row",spacing:1,children:e.jsx(M,{variant:"outlined",size:"small",startIcon:e.jsx(be,{}),onClick:d,sx:{minWidth:120},children:"Export Summary"})})]}),e.jsxs(z,{container:!0,spacing:3,sx:{mb:4},children:[e.jsx(z,{item:!0,xs:12,sm:6,md:3,children:e.jsxs(T,{sx:{p:2,borderRadius:2,borderLeft:"4px solid",borderColor:"primary.main",height:"100%"},children:[e.jsxs(j,{sx:{display:"flex",alignItems:"center",mb:1},children:[e.jsx($,{sx:{color:"primary.main",mr:1,fontSize:20}}),e.jsx(c,{variant:"subtitle1",color:"text.secondary",fontWeight:"medium",children:"Total Orders"})]}),e.jsx(c,{variant:"h4",sx:{fontWeight:"bold",color:"primary.dark"},children:r.length}),e.jsx(c,{variant:"body2",color:"text.secondary",sx:{mt:1},children:"Processed today"})]})}),e.jsx(z,{item:!0,xs:12,sm:6,md:3,children:e.jsxs(T,{sx:{p:2,borderRadius:2,borderLeft:"4px solid",borderColor:"success.main",height:"100%"},children:[e.jsxs(j,{sx:{display:"flex",alignItems:"center",mb:1},children:[e.jsx(_,{sx:{color:"success.main",mr:1,fontSize:20}}),e.jsx(c,{variant:"subtitle1",color:"text.secondary",fontWeight:"medium",children:"Total Revenue"})]}),e.jsxs(c,{variant:"h4",sx:{fontWeight:"bold",color:"success.dark"},children:["₹",t.toLocaleString()]}),e.jsx(c,{variant:"body2",color:"text.secondary",sx:{mt:1},children:"Gross revenue from today's sales"})]})}),e.jsx(z,{item:!0,xs:12,sm:6,md:3,children:e.jsxs(T,{sx:{p:2,borderRadius:2,borderLeft:"4px solid",borderColor:"error.main",height:"100%"},children:[e.jsxs(j,{sx:{display:"flex",alignItems:"center",mb:1},children:[e.jsx(ve,{sx:{color:"error.main",mr:1,fontSize:20}}),e.jsx(c,{variant:"subtitle1",color:"text.secondary",fontWeight:"medium",children:"Total Cost"})]}),e.jsxs(c,{variant:"h4",sx:{fontWeight:"bold",color:"error.dark"},children:["₹",s.toLocaleString()]}),e.jsx(c,{variant:"body2",color:"text.secondary",sx:{mt:1},children:"Cost of goods sold"})]})}),e.jsx(z,{item:!0,xs:12,sm:6,md:3,children:e.jsxs(T,{sx:{p:2,borderRadius:2,borderLeft:"4px solid",borderColor:"secondary.main",height:"100%"},children:[e.jsxs(j,{sx:{display:"flex",alignItems:"center",mb:1},children:[e.jsx(Y,{sx:{color:"secondary.main",mr:1,fontSize:20}}),e.jsx(c,{variant:"subtitle1",color:"text.secondary",fontWeight:"medium",children:"Profit Margin"})]}),e.jsxs(c,{variant:"h4",sx:{fontWeight:"bold",color:"secondary.dark"},children:[m,"%"]}),e.jsx(c,{variant:"body2",color:"text.secondary",sx:{mt:1},children:"Percentage profit on sales"})]})})]}),e.jsx(Le,{}),e.jsxs(j,{sx:{mb:2},children:[e.jsx(c,{variant:"h6",sx:{fontWeight:"bold",color:"primary.dark",mb:2},children:l==="individual"?"Current Orders":"Orders by Category"}),i?e.jsx(j,{display:"flex",justifyContent:"center",alignItems:"center",m:4,children:e.jsx(Z,{color:"primary",size:40,thickness:4})}):e.jsx(e.Fragment,{children:l==="individual"?e.jsx(ke,{summary:r}):e.jsx(Ne,{groupedData:a})})]})]})})};export{qe as TodaysOrderPage};
